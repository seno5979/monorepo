---
apiVersion: "idp.cardlytics.com/v1"
kind: "K8sService"
metadata:
  name: "reporting-service"
  team: "publisher-team"
  description: null
  labels:
    tier: "backend"
  links:
  - title: "GitHub Repository"
    url: "https://github.com/cardlytics/publisher-team"
    icon: "github"
spec:
  type: "k8s-service"
  runtime:
    framework: "spring-boot"
    buildTool: "gradle"
  ports:
  - name: "http"
    port: 8080
  resources:
    cpu: "250m"
    memory: "512Mi"
    cpuLimit: "1000m"
    memoryLimit: "1Gi"
  scaling:
    minReplicas: 1
    maxReplicas: 10
    targetCpuUtilization: 70
  healthCheck:
    path: "/actuator/health"
    port: 8080
  dependencies: []
  environments:
    dev:
      replicas: 1
      env: {}
    uat:
      replicas: 2
      env: {}
    prod:
      replicas: 1
      env: {}
